

<html>
<head>
<title>南国云-定位</title>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" type="text/css" href="leaflet.css"/>
<script type="text/javascript" charset="utf-8" src="leaflet.js"></script>
<style>
#map{width:100%;height:100%}
</style>
</head>
<body>
<div id="map"></div>
<script>
var map = L.map('map').setView([23.34053,113.37787],18);
L.tileLayer('http://125.216.66.62/hot/{z}/{x}/{y}.png',{maxZoom:20}).addTo(map);

function onLocationFound(e) {
		var radius = e.accuracy / 2;

		L.marker(e.latlng).addTo(map)
			.bindPopup("你离实际位置还有 " + radius + "米的距离").openPopup();

		L.circle(e.latlng, radius).addTo(map);
	}

	function onLocationError(e) {
		alert(e.message);
	}

	map.on('locationfound', onLocationFound);
	map.on('locationerror', onLocationError);

	map.locate({setView: true, maxZoom: 16});
	
</script>
</body>
</html>
